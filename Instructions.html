<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="NEXT.css" type="text/css" charset="utf-8">
  <script type="text/javascript" src="jquery-3.1.1.js"></script>
  <script type="text/javascript">

  /*function gup(name, tmpURL)
	{
		var regexS = "[\\?&]"+name+"=([^&#]*)";
		var regex = new RegExp(regexS);
		var results = regex.exec(tmpURL);
		if (results == null)
		{
			return "";
		}
		else
		{
			return results[1];
		}
	}*/

  $(document).ready(function(){

    var c = document.getElementById("myCanvas");
    var ctx = c.getContext("2d");
    var i = 0;

    function blockinstruction1(){

      $("#startButton").show();

      if (i == 0){
        $("#backButton").hide();
        ctx.clearRect(0, 0, myCanvas.width, myCanvas.height);
        ctx.font="25px Arial";
        ctx.fillStyle="black";
        ctx.textBaseline="left";
        ctx.textAlign="left";
        ctx.fillText("Today you will be completing a simple task.", (myCanvas.width)-900, (myCanvas.height/2)-320);
        ctx.fillText("__________________________________________", (myCanvas.width)-900, (myCanvas.height/2)-300);
        ctx.fillText("1. You will see a series of words presented on the screen.", (myCanvas.width)-900, (myCanvas.height/2)-250);
        ctx.fillText("2. The task is divided into many short blocks of trials,", (myCanvas.width)-900, (myCanvas.height/2)-200);
        ctx.fillText("  each with unique instructions.", (myCanvas.width)-900, (myCanvas.height/2)-150);
        ctx.fillText("3. There are three trial types:", (myCanvas.width)-900, (myCanvas.height/2)-100);
        ctx.fillText("  3a. Trials where the word is RED, you will press the D-key to continue.", (myCanvas.width)-900, (myCanvas.height/2)-50);
        ctx.fillText("  3b. Trials in which the word is BLUE and you need to implement the instructions.", (myCanvas.width)-900, (myCanvas.height/2)-0);
        ctx.fillText("  3c. Trials in which you will need to remember but not implement the instructions.", (myCanvas.width)-900, (myCanvas.height/2)+50);

        ctx.fillText("4. Each instruction set will appear for a limited time.", (myCanvas.width)-900, (myCanvas.height/2)+100);

        ctx.fillText("5. If you do not do the task properly", (myCanvas.width)-900, (myCanvas.height/2)+150);
        ctx.fillText("  (you need to get an accuracy > 75%) you will not get paid.", (myCanvas.width)-900, (myCanvas.height/2)+200);

        ctx.fillText("Please press the button below for examples.", (myCanvas.width)-900, (myCanvas.height/2)+280);

      }
      else if (i == 1){
        $("#backButton").show();
        ctx.clearRect(0, 0, myCanvas.width, myCanvas.height);
        ctx.font="25px Arial";
        ctx.fillStyle="black";
        ctx.textBaseline="middle";
        ctx.textAlign="center";
        ctx.fillText("Below is an example of the instructions for the task.", (myCanvas.width/2), (myCanvas.height/2)-300);
        ctx.fillText("Instructions will appear before every short block of trials.", (myCanvas.width/2), (myCanvas.height/2)-250);
        ctx.fillText("For the first two trials, instructions will look like this:", (myCanvas.width/2), (myCanvas.height/2)-200);
        ctx.fillText("____________________________________________________________________________________", (myCanvas.width/2), (myCanvas.height/2)-180);
        ctx.fillText("When the words appear in                                   press D", (myCanvas.width/2)-50, (myCanvas.height/2)+100)
        ctx.fillText("When the words appear in                                  , follow the instructions below:", (myCanvas.width/2), (myCanvas.height/2)-100);
        ctx.font="bold 25px Arial";
        ctx.fillText("If you see the word: 'jewel' then press J", (myCanvas.width/2), (myCanvas.height/2));
        ctx.fillText("If you see the word: 'angel' then press D", (myCanvas.width/2), (myCanvas.height/2)-50);

        ctx.font="bold 50px Arial";
        ctx.fillStyle="red";
        ctx.fillText("this color", (myCanvas.width/2)+54, (myCanvas.height/2)+100);

        ctx.fillStyle="blue";
        ctx.fillText("this color", (myCanvas.width/2)-15, (myCanvas.height/2)-100);

        ctx.font="25px Arial";
        ctx.fillStyle="black";
        ctx.textBaseline="middle";
        ctx.textAlign="center";
        ctx.fillText("____________________________________________________________________________________", (myCanvas.width/2), (myCanvas.height/2)+260);
        ctx.fillText("Please press the button below for another example.", (myCanvas.width/2), (myCanvas.height/2)+300);
      }
      else if (i == 2){
        ctx.clearRect(0, 0, myCanvas.width, myCanvas.height);
        ctx.font="25px Arial";
        ctx.fillStyle="black";
        ctx.textBaseline="middle";
        ctx.textAlign="left";
        ctx.fillText("Instructions could also appear like this.", (myCanvas.width)-900, (myCanvas.height/2)-250);
        ctx.fillText("This is a simpler way to communicate the ", (myCanvas.width)-900, (myCanvas.height/2)-200);
        ctx.fillText("same instructions as you saw previously.", (myCanvas.width)-900, (myCanvas.height/2)-150);
        ctx.fillText("____________________________________________________________________________________", (myCanvas.width)-900, (myCanvas.height/2)-130);
        ctx.font="bold 25px Arial";
        ctx.fillText("If                                     press J", (myCanvas.width/2)-300, (myCanvas.height/2));
        ctx.fillText("If                                     press D", (myCanvas.width/2)-300, (myCanvas.height/2)-50);

        ctx.font="bold 50px Arial";
        ctx.fillStyle="blue";
        ctx.fillText("legend", (myCanvas.width/2)-280, (myCanvas.height/2));
        ctx.fillText("talk", (myCanvas.width/2)-280, (myCanvas.height/2)-50);

        ctx.font="25px Arial";
        ctx.fillStyle="black";
        ctx.textBaseline="middle";
        ctx.textAlign="left";
        ctx.fillText("____________________________________________________________________________________", (myCanvas.width)-900, (myCanvas.height/2)+150);
        ctx.fillText("PLEASE NOTE: The instruction to press the D key whenever words", (myCanvas.width)-900, (myCanvas.height/2)+180);
        ctx.fillText("appear in RED is constant througout the ENTIRE task, even if", (myCanvas.width)-900, (myCanvas.height/2)+230);
        ctx.fillText("it is not explicitly instructed.", (myCanvas.width)-900, (myCanvas.height/2)+280);
        ctx.textAlign="center";

        ctx.fillText("Please press the button below for another example.", (myCanvas.width/2), (myCanvas.height/2)+350);
      }
      else if (i == 3){
        ctx.clearRect(0, 0, myCanvas.width, myCanvas.height);
        ctx.font="20px Arial";
        ctx.fillStyle="black";
        ctx.textBaseline="middle";
        ctx.textAlign="left";
        ctx.fillText("1. When the words are presented in BLUE, you could be asked to remember", (myCanvas.width)-900, (myCanvas.height/2)-400);
        ctx.fillText("   or implement the instructions from the most recent instruction screen.", (myCanvas.width)-900, (myCanvas.height/2)-360);
        ctx.fillText("2. Below is an example of what the screen would look like if you were asked", (myCanvas.width)-900, (myCanvas.height/2)-320);
        ctx.fillText("   to remember, but not implement the instructions:", (myCanvas.width)-900, (myCanvas.height/2)-280);
        ctx.fillText("3. Here, you need to assess whether the shown instructions are the same,", (myCanvas.width)-900, (myCanvas.height/2)-240);
        ctx.fillText("   changed by one instruction, or both different than the instructions", (myCanvas.width)-900, (myCanvas.height/2)-200);
        ctx.fillText("   you were tasked to remember. Please do this as quickly as possible.", (myCanvas.width)-900, (myCanvas.height/2)-160);
        ctx.fillText("____________________________________________________________________________________", (myCanvas.width)-900, (myCanvas.height/2)-140);
        ctx.font="25px Arial";
        ctx.fillText("If                                     press D", (myCanvas.width/2)-300, (myCanvas.height/2)-50);
        ctx.fillText("If                                     press J", (myCanvas.width/2)-300, (myCanvas.height/2));
        ctx.textAlign="center";
        ctx.fillText("For these instructions:", (myCanvas.width/2), (myCanvas.height/2)+200);
        ctx.fillText("They are both the same press T", (myCanvas.width/2), (myCanvas.height/2)+250);
        ctx.fillText("Only one is the same press G", (myCanvas.width/2), (myCanvas.height/2)+300);
        ctx.fillText("Neither are the same press B", (myCanvas.width/2), (myCanvas.height/2)+350);
        ctx.textAlign="left";

        ctx.font="bold 50px Arial";
        ctx.fillStyle="blue";

          ctx.fillText("legend", (myCanvas.width/2)-280, (myCanvas.height/2)-50);
          ctx.fillText("jewel", (myCanvas.width/2)-280, (myCanvas.height/2));

        ctx.font="25px Arial";
        ctx.fillStyle="black";
        ctx.textAlign="left";
        ctx.fillText("____________________________________________________________________________________", (myCanvas.width)-900, (myCanvas.height/2)+350);
        ctx.textAlign="center";
        ctx.fillText("Please press the button below for another example.", (myCanvas.width/2), (myCanvas.height/2)+400);
      }
      else if (i == 4){
        ctx.clearRect(0, 0, myCanvas.width, myCanvas.height);
        ctx.font="25px Arial";
        ctx.fillStyle="black";
        ctx.textBaseline="middle";
        ctx.textAlign="left";
        ctx.fillText("1. This is an example of what the screen would look like if you only", (myCanvas.width)-900, (myCanvas.height/2)-350);
        ctx.fillText("   needed to implement the instructions you are currently remembering.", (myCanvas.width)-900, (myCanvas.height/2)-300);
        ctx.fillText("2. Here, you simply need to implement the instructions you were", (myCanvas.width)-900, (myCanvas.height/2)-250);
        ctx.fillText("   asked to remember. Please do this as quickly as possible.", (myCanvas.width)-900, (myCanvas.height/2)-200);
        ctx.fillText("____________________________________________________________________________________", (myCanvas.width)-900, (myCanvas.height/2)-120);

        ctx.font="bold 80px Arial";
        ctx.fillStyle="blue";
        ctx.textBaseline="middle";
        ctx.textAlign="center";
        ctx.fillText("legend", (myCanvas.width/2), (myCanvas.height/2));

        ctx.font="25px Arial";
        ctx.fillStyle="black";
        ctx.textBaseline="middle";
        ctx.textAlign="left";
        ctx.fillText("____________________________________________________________________________________", (myCanvas.width)-900, (myCanvas.height/2)+250);
        ctx.textAlign="center";
        ctx.fillText("If you are ready please press the button below to start a short practice task.", (myCanvas.width/2), (myCanvas.height/2)+300);
      }
    }

    function runTrial(){
      if (i < 5){
        blockinstruction1();
      }
      else {
        opener.updateMainMenu(2);
        JavaScript:window.close();
      }
    }

runTrial();


$("#continueButton").click(function(){i++; runTrial();});
$("#backButton").click(function(){i--; runTrial();});
          });

          </script>
        </head>
        <body>
          <table>
            <tr>
              <td>
                <canvas id="myCanvas" width="900" height="900"> </canvas>
                <div style="text-align:center; align:center;">
                </div>
                <div style="text-align:center;">
                  <button id="backButton">Go Back</button>
                  <button id="continueButton">Continue</button>
                                </div>
                    <input type="hidden" id="assignmentId" name="assignmentId" value="">
                    <input type="hidden" id="workerId" name="workerId" value="">
                    <input type="hidden" id="hitId" name="hitId" value="">
                    <input type="hidden" id="RTs" name="RTs" value="">
                    <input type="hidden" id="ExpName" name="ExpName" value="NEXT">
                    <p style="font-family: Arial; color: black; font-size:24px"></p>
                  </td>
                </tr>
              </table>
            </body>
            </html>
