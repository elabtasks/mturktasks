<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="Task.css" type="text/css" charset="utf-8">
  <script type="text/javascript" src="jquery-3.2.1.js"></script>
  <script type="text/javascript" src="images.js"></script>
  <script type="text/javascript">

  /*function gup(name, tmpURL)
	{
		var regexS = "[\\?&]"+name+"=([^&#]*)";
		var regex = new RegExp(regexS);
		var results = regex.exec(tmpURL);
		if (results == null)
		{
			return "";
		}
		else
		{
			return results[1];
		}
	}*/

  $(document).ready(function(){

    var c = document.getElementById("myCanvas");
    var ctx = c.getContext("2d");
    var i = 0;

    var fileName = ['examplepics/example1.png','examplepics/example2.png','examplepics/example3.png','examplepics/example4.png','examplepics/example5.png']
		var img = new Array(fileName.length);
		var imgCount = 0;

		function loadImage()
		{
			if (imgCount < fileName.length)
			{
				img[imgCount] = new Image();
				img[imgCount].src=fileName[imgCount];
				img[imgCount].onload=loadImage;
				imgCount++;
			}
      runTrial();
		}

    function blockinstruction1(){

      $("#continueButton").show();
      $("#backButton").hide();

      if (i == 0){
        ctx.clearRect(0, 0, myCanvas.width, myCanvas.height);
        ctx.font="25px Arial";
        ctx.fillStyle="white";
        ctx.textBaseline="left";
        ctx.textAlign="left";
        ctx.fillText("Today you will be completing a simple task.", (myCanvas.width)-900, (myCanvas.height/2)-400);
        ctx.fillText("__________________________________________", (myCanvas.width)-900, (myCanvas.height/2)-380);

        ctx.fillText("On each trial, you will be presented with a picture that will have one letter on", 0, (myCanvas.height/2)-330);
        ctx.fillText("its left, and one letter on its right. These letters will indicate how you should", (0.0), (myCanvas.height/2)-300);
        ctx.fillText("respond to each picture you see. ", (0.0), (myCanvas.height/2)-270);

        ctx.fillText("For each picture, you will either see the letters M and N, OR the letters L and S.", (0.0), (myCanvas.height/2)-220);

        ctx.fillText("Importantly, when you see the letters M and N, the letter M might appear on ", (0.0), (myCanvas.height/2)-170);
        ctx.fillText("the left of the picture, in which case the N will appear on the right of the ", (0.0), (myCanvas.height/2)-140);
        ctx.fillText("picture. Or, the letter M might appear on the right of the picture, in which case ", (0.0), (myCanvas.height/2)-110);
        ctx.fillText("the letter N will appear on the left of the picture.", (0.0), (myCanvas.height/2)-80);

        ctx.fillText("Likewise, when you see the letters L and S, the letter L might appear on the left ", 0, (myCanvas.height/2)-30);
        ctx.fillText("of the picture, in which case the S will appear on the right of the picture. Or, ", 0, (myCanvas.height/2)-0);
        ctx.fillText("the letter L might appear on the right of the picture, in which case the letter S ", 0, (myCanvas.height/2)+30);
        ctx.fillText("will appear on the left of the picture.", (0.0), (myCanvas.height/2)+60);

        ctx.beginPath();
        ctx.rect(250, (myCanvas.height/2)+110, 100,100);
        ctx.rect(550, (myCanvas.height/2)+110, 100,100);
        ctx.rect(250, (myCanvas.height/2)+250, 100,100);
        ctx.rect(550, (myCanvas.height/2)+250, 100,100);
        ctx.strokeStyle  = 'white'
        ctx.lineWidth = 5
        ctx.stroke();

        ctx.fillText("or", 440, (myCanvas.height/2)+170);
        ctx.fillText("or", 440, (myCanvas.height/2)+310);

        ctx.fillText("M", 200, (myCanvas.height/2)+160);
        ctx.fillText("N", 380, (myCanvas.height/2)+160);
        ctx.fillText("N", 500, (myCanvas.height/2)+160);
        ctx.fillText("M", 680, (myCanvas.height/2)+160);

        ctx.fillText("S", 200, (myCanvas.height/2)+300);
        ctx.fillText("L", 380, (myCanvas.height/2)+300);
        ctx.fillText("S", 500, (myCanvas.height/2)+300);
        ctx.fillText("L", 680, (myCanvas.height/2)+300);

        ctx.fillText("IMAGE", 260, (myCanvas.height/2)+170);
        ctx.fillText("IMAGE", 560, (myCanvas.height/2)+310);
        ctx.fillText("IMAGE", 260, (myCanvas.height/2)+310);
        ctx.fillText("IMAGE", 560, (myCanvas.height/2)+170);

        ctx.textAlign="center";
        ctx.fillText("Press the button below for more details on the task.", (myCanvas.width)/2, (myCanvas.height/2)+400);
      }
      else if (i == 1){
        $("#backButton").show();

        ctx.clearRect(0, 0, myCanvas.width, myCanvas.height);
        ctx.font="25px Arial";
        ctx.fillStyle="white";
        ctx.textBaseline="middle";
        ctx.textAlign="left";
        ctx.fillText("The letters M/N and S/L have important meanings that you need to be aware of:", (myCanvas.width/2)-450, (myCanvas.height/2)-400);

        ctx.fillText("The letter “M” stands for “mechanical,” whereas the letter “N” stands for ", (myCanvas.width/2)-450, (myCanvas.height/2)-350);
        ctx.fillText("“non-mechanical.”", (myCanvas.width/2)-450, (myCanvas.height/2)-320);

        ctx.fillText("The letter “L” stands for “large,” whereas the letter “S” stands for “small.”", (myCanvas.width/2)-450, (myCanvas.height/2)-270);

        ctx.fillText("If you see the letters M and N beside a picture, your job is to determine ", (myCanvas.width/2)-450, (myCanvas.height/2)-220);
        ctx.fillText("whether the object shown in the picture is mechanical or non-mechanical. A ", (myCanvas.width/2)-450, (myCanvas.height/2)-190);
        ctx.fillText("'mechanical' object is one that has any type of mechanism or moving parts (e.g. ", (myCanvas.width/2)-450, (myCanvas.height/2)-160);
        ctx.fillText("a car or a clock). A ‘non-Mechanical' object is one that has no mechanism or ", (myCanvas.width/2)-450, (myCanvas.height/2)-130);
        ctx.fillText("moving parts (e.g. a fork or a dining room chair).", (myCanvas.width/2)-450, (myCanvas.height/2)-100);

        ctx.fillText("Alternatively, if you see the letters L and S beside a picture, your job is to ", (myCanvas.width/2)-450, (myCanvas.height/2)-50);
        ctx.fillText("determine whether the object shown in the picture is large or small. A 'large' ", (myCanvas.width/2)-450, (myCanvas.height/2)-20);
        ctx.fillText("object is one that, in real life, could NOT fit in to a shoebox. A 'Small' object is ", (myCanvas.width/2)-450, (myCanvas.height/2)+10);
        ctx.fillText("one that, in real life, could fit in to a shoebox.", (myCanvas.width/2)-450, (myCanvas.height/2)+40);

        ctx.textAlign="center";
        ctx.fillText("Use the buttons below to see the next instructions or go back", (myCanvas.width/2), (myCanvas.height/2)+350);
        ctx.fillText("to the previous instructions.", (myCanvas.width/2), (myCanvas.height/2)+400);

      }
      else if (i == 2){
        $("#backButton").show();

        ctx.clearRect(0, 0, myCanvas.width, myCanvas.height);
        ctx.font="25px Arial";
        ctx.fillStyle="white";
        ctx.textBaseline="middle";
        ctx.textAlign="left";
        ctx.fillText("If, for example, you are shown a picture of a car (i.e., a mechanical object), ", 0, (myCanvas.height/2)-400);
        ctx.fillText("AND you see the letters M and N on either side of the picture, then your job is ", 0, (myCanvas.height/2)-370);
        ctx.fillText("to indicate whether this object is mechanical or not. In this case, because a car ", 0, (myCanvas.height/2)-340);
        ctx.fillText("is mechanical, you would want to make a response that corresponds to the ", 0, (myCanvas.height/2)-310);
        ctx.fillText("letter “M” (since the car is mechanical) not “N.” ", 0, (myCanvas.height/2)-280);

        ctx.fillText("In this “car” example, if the M appears to the left side of the picture, then to ", 0, (myCanvas.height/2)-230);
        ctx.fillText("make a correct response, you would hit the 1 key on the top of your keyboard ", 0, (myCanvas.height/2)-200);
        ctx.fillText("(notice that, on the top of your keyboard, the 1 key is off to the left, just like ", 0, (myCanvas.height/2)-170);
        ctx.fillText("the M is to the left of the picture in this example). On the other hand, if the M ", 0, (myCanvas.height/2)-140);
        ctx.fillText("appears to the right side of the picture, you would hit the 0 key on the top of ", 0, (myCanvas.height/2)-110);
        ctx.fillText("your keyboard (notice that, on the top of your keyboard, the 0 key is off to the ", 0, (myCanvas.height/2)-80);
        ctx.fillText("right, just like the M is to the right of the picture in this example). ", 0, (myCanvas.height/2)-50);

        ctx.drawImage(img[0], myCanvas.width/2-450, myCanvas.height/2+5);

        ctx.drawImage(img[1], myCanvas.width/2, myCanvas.height/2+5);

        ctx.textAlign="center";
        ctx.fillText("Use the buttons below to see the next instructions or go back",(myCanvas.width/2), (myCanvas.height/2)+350);
        ctx.fillText("to the previous instructions.", (myCanvas.width/2), (myCanvas.height/2)+400);
      }
    else if (i == 3){
      $("#backButton").show();

      ctx.clearRect(0, 0, myCanvas.width, myCanvas.height);
      ctx.font="25px Arial";
      ctx.fillStyle="white";
      ctx.textBaseline="middle";
      ctx.textAlign="left";
      ctx.fillText("Sometimes, instead of being shown pictures of mechanical objects, you will be ", 0, (myCanvas.height/2)-400);
      ctx.fillText("shown pictures of non-mechanical objects. For instance, you may be shown a ", 0, (myCanvas.height/2)-370);
      ctx.fillText("picture of a fork. In these cases, you will want to make a response that ", 0, (myCanvas.height/2)-340);
      ctx.fillText("corresponds to the letter “N” (since a fork is NOT mechanical). In this “fork” ", 0, (myCanvas.height/2)-310);
      ctx.fillText("example, if the N appears to the left side of the picture, then to make a correct ", 0, (myCanvas.height/2)-280);

      ctx.fillText("response, you would hit the 1 key on the top of your keyboard (on the top of ", 0, (myCanvas.height/2)-250);
      ctx.fillText("your keyboard, the 1 key is off to the left, just like the N is to the left of the ", 0, (myCanvas.height/2)-220);
      ctx.fillText("picture in this example). On the other hand, if the N appears to the right side of ", 0, (myCanvas.height/2)-190);
      ctx.fillText("the picture, you would hit the 0 key on the top of your keyboard (on the top of ", 0, (myCanvas.height/2)-160);
      ctx.fillText("your keyboard, the 0 key is off to the right, just like the N is to the right of the ", 0, (myCanvas.height/2)-130);
      ctx.fillText("picture in this example). ", 0, (myCanvas.height/2)-100);

      ctx.drawImage(img[2], myCanvas.width/2-450, myCanvas.height/2+5);

      ctx.drawImage(img[3], myCanvas.width/2, myCanvas.height/2+5);

      ctx.textAlign="center";
      ctx.fillText("Use the buttons below to see the next instructions or go back",(myCanvas.width/2), (myCanvas.height/2)+350);
      ctx.fillText("to the previous instructions.", (myCanvas.width/2), (myCanvas.height/2)+400);
    }
    else if (i == 4){
      $("#backButton").show();

      ctx.clearRect(0, 0, myCanvas.width, myCanvas.height);
      ctx.font="25px Arial";
      ctx.fillStyle="white";
      ctx.textBaseline="middle";
      ctx.textAlign="left";
      ctx.fillText("As mentioned earlier, sometimes, instead of seeing the letters M/N beside the ", 0, (myCanvas.height/2)-430);
      ctx.fillText("picture, you will see the letters L/S. In these cases, your job is to indicate ", 0, (myCanvas.height/2)-400);
      ctx.fillText("whether the object shown in the picture is large or small. As a reminder, a ", 0, (myCanvas.height/2)-370);
      ctx.fillText("'large' object is one that, in real life, could NOT fit in to a shoebox. A 'Small' ", 0, (myCanvas.height/2)-340);
      ctx.fillText("object is one that, in real life, could fit in to a shoebox.", 0, (myCanvas.height/2)-310);

      ctx.fillText("To make your response, you will follow the same instructions as before, but ", 0, (myCanvas.height/2)-260);
      ctx.fillText("this time, rather than map your response (0 or 1) onto the M or N, you will map ", 0, (myCanvas.height/2)-230);
      ctx.fillText("your 0 or 1 response onto the S or L. So, if you are shown a picture of a small ", 0, (myCanvas.height/2)-200);
      ctx.fillText("object (e.g., a watch), and the S is on the left side of the picture, then you ", 0, (myCanvas.height/2)-170);
      ctx.fillText("would press 1. Alternatively, if you are shown a picture of a small object and ", 0, (myCanvas.height/2)-140);
      ctx.fillText("the S is on the right side of the picture, then you would press 0. ", 0, (myCanvas.height/2)-110);

      ctx.fillText("If, on the other hand, you are shown a picture of a large object (e.g., a house) ", 0, (myCanvas.height/2)-60);
      ctx.fillText("and the L is on the left side of the picture, then you would press 1. ", 0, (myCanvas.height/2)-30);
      ctx.fillText("Alternatively, if you are shown a picture of a large object and the L is on the ", 0, (myCanvas.height/2)-0);
      ctx.fillText("right side of the picture, then you would press 0. ", 0, (myCanvas.height/2)+30);

      ctx.drawImage(img[4], myCanvas.width/2-250, myCanvas.height/2+50);

      ctx.textAlign="center";
      ctx.fillText("Use the buttons below to see the next instructions or go back",(myCanvas.width/2), (myCanvas.height/2)+400);
      ctx.fillText("to the previous instructions.", (myCanvas.width/2), (myCanvas.height/2)+430);
    }
    else if (i == 5){
      $("#startButton").hide();
      $("#backButton").show();

      ctx.clearRect(0, 0, myCanvas.width, myCanvas.height);
      ctx.font="25px Arial";
      ctx.fillStyle="white";
      ctx.textBaseline="middle";
      ctx.textAlign="center";

      ctx.fillText("This is the end of the instructions. Please use the buttons below to go back ", (myCanvas.width/2), (myCanvas.height/2));
      ctx.fillText("to review the instructions if you have any questions, or to continue on to", (myCanvas.width/2), (myCanvas.height/2)+50);
      ctx.fillText("the practice task.", (myCanvas.width/2), (myCanvas.height/2)+100);

    }
    }

    function runTrial(){
      if (i < 6){
        blockinstruction1();
      }
      else {
        opener.updateMainMenu(2);
        JavaScript:window.close();
      }
    }

loadImage();


$("#continueButton").click(function(){i++; runTrial();});
$("#backButton").click(function(){i--; runTrial();});
          });

          </script>
        </head>
        <body>
          <table>
            <tr>
              <td>
                <canvas id="myCanvas" width="900" height="900"> </canvas>
                <div style="text-align:center; align:center;">
                </div>
                <div style="text-align:center;">
                  <button id="backButton">Go Back</button>
                  <button id="continueButton">Continue</button>
                </div>
                    <input type="hidden" id="assignmentId" name="assignmentId" value="">
                    <input type="hidden" id="workerId" name="workerId" value="">
                    <input type="hidden" id="hitId" name="hitId" value="">
                    <input type="hidden" id="RTs" name="RTs" value="">
                    <input type="hidden" id="ExpName" name="ExpName" value="OSCon_boundary_numprimedurability">
                    <p style="font-family: Arial; color: white; font-size:24px"></p>
                  </td>
                </tr>
              </table>
            </body>
            </html>
