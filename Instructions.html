<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="NEXT.css" type="text/css" charset="utf-8">
  <script type="text/javascript" src="jquery-3.1.1.js"></script>
  <script type="text/javascript">

  /*function gup(name, tmpURL)
	{
		var regexS = "[\\?&]"+name+"=([^&#]*)";
		var regex = new RegExp(regexS);
		var results = regex.exec(tmpURL);
		if (results == null)
		{
			return "";
		}
		else
		{
			return results[1];
		}
	}*/

  $(document).ready(function(){

    var c = document.getElementById("myCanvas");
    var ctx = c.getContext("2d");
    var i = 0;

    function blockinstruction1(){

      $("#startButton").show();

      if (i == 0){
        ctx.clearRect(0, 0, myCanvas.width, myCanvas.height);
        ctx.font="25px Arial";
        ctx.fillStyle="black";
        ctx.textBaseline="left";
        ctx.textAlign="left";
        ctx.fillText("Today you will be completing a simple task.", (myCanvas.width)-900, (myCanvas.height/2)-320);
        ctx.fillText("__________________________________________", (myCanvas.width)-900, (myCanvas.height/2)-300);
        ctx.fillText("1. You will see a series of words presented on the screen.", (myCanvas.width)-900, (myCanvas.height/2)-250);
        ctx.fillText("2. These words may appear in two different colors.", (myCanvas.width)-900, (myCanvas.height/2)-200);
        ctx.fillText("3. Depending on the color or the word, you", (myCanvas.width)-900, (myCanvas.height/2)-150);
        ctx.fillText("    will need to press either the J or the D key.", (myCanvas.width)-900, (myCanvas.height/2)-100);
        ctx.fillText("4. The task is divided into many short blocks of trials,", (myCanvas.width)-900, (myCanvas.height/2)-50);
        ctx.fillText("    each with unique instructions.", (myCanvas.width)-900, (myCanvas.height/2)-0);

        ctx.fillText("5. These instructions will be presented on the", (myCanvas.width)-900, (myCanvas.height/2)+50);
        ctx.fillText("    screen for a limited amount of time.", (myCanvas.width)-900, (myCanvas.height/2)+100);

        ctx.fillText("6. If you do not do the task properly", (myCanvas.width)-900, (myCanvas.height/2)+150);
        ctx.fillText("    (you need to get an accuracy > 75%) you will not get paid", (myCanvas.width)-900, (myCanvas.height/2)+200);

        ctx.fillText("Please press the button below for an example.", (myCanvas.width)-900, (myCanvas.height/2)+280);

      }
      else if (i == 1){
        ctx.clearRect(0, 0, myCanvas.width, myCanvas.height);
        ctx.font="25px Arial";
        ctx.fillStyle="black";
        ctx.textBaseline="middle";
        ctx.textAlign="center";
        ctx.fillText("Below is an example of the instructions for the task.", (myCanvas.width/2), (myCanvas.height/2)-300);
        ctx.fillText("For the first two trials, instructions will look like this:", (myCanvas.width/2), (myCanvas.height/2)-240);
        ctx.fillText("__________________________________________", (myCanvas.width/2), (myCanvas.height/2)-220);
        ctx.fillText("When the words appear in                                   press D", (myCanvas.width/2)-50, (myCanvas.height/2)+100)
        ctx.fillText("When the words appear in                                  , follow the instructions below:", (myCanvas.width/2), (myCanvas.height/2)-100);
        ctx.font="bold 25px Arial";
        ctx.fillText("If you see the word: 'jewel' then press D", (myCanvas.width/2), (myCanvas.height/2));
        ctx.fillText("If you see the word: 'angel' then press J", (myCanvas.width/2), (myCanvas.height/2)-50);

        ctx.font="bold 50px Arial";
        ctx.fillStyle="red";
        ctx.fillText("this color", (myCanvas.width/2)+54, (myCanvas.height/2)+100);

        ctx.fillStyle="blue";
        ctx.fillText("this color", (myCanvas.width/2)-15, (myCanvas.height/2)-100);

        ctx.font="25px Arial";
        ctx.fillStyle="black";
        ctx.textBaseline="middle";
        ctx.textAlign="center";
        ctx.fillText("__________________________________________", (myCanvas.width/2), (myCanvas.height/2)+260);
        ctx.fillText("Please press the button below for another example.", (myCanvas.width/2), (myCanvas.height/2)+300);
      }
      else if (i == 2){
        ctx.clearRect(0, 0, myCanvas.width, myCanvas.height);
        ctx.font="25px Arial";
        ctx.fillStyle="black";
        ctx.textBaseline="middle";
        ctx.textAlign="left";
        ctx.fillText("Instructions could also appear like this.", (myCanvas.width)-900, (myCanvas.height/2)-250);
        ctx.fillText("This is a simpler way to communicate the ", (myCanvas.width)-900, (myCanvas.height/2)-200);
        ctx.fillText("same instructions as you saw previously.", (myCanvas.width)-900, (myCanvas.height/2)-170);
        ctx.fillText("__________________________________________", (myCanvas.width)-900, (myCanvas.height/2)-140);
        ctx.fillText("If                                     press D", (myCanvas.width/2)-300, (myCanvas.height/2)+100)
        ctx.font="bold 25px Arial";
        ctx.fillText("If                                     press D", (myCanvas.width/2)-300, (myCanvas.height/2));
        ctx.fillText("If                                     press J", (myCanvas.width/2)-300, (myCanvas.height/2)-50);

        ctx.font="bold 50px Arial";
        ctx.fillStyle="red";
        ctx.fillText("this color", (myCanvas.width/2)-260, (myCanvas.height/2)+100);
        ctx.fillStyle="blue";
        ctx.fillText("legend", (myCanvas.width/2)-280, (myCanvas.height/2));
        ctx.fillText("talk", (myCanvas.width/2)-280, (myCanvas.height/2)-50);

        ctx.font="25px Arial";
        ctx.fillStyle="black";
        ctx.textBaseline="middle";
        ctx.textAlign="center";
        ctx.fillText("If you are ready please press the button below to begin the task.", (myCanvas.width/2), (myCanvas.height/2)+300);
      }
    }

    function runTrial(){
      if (i < 3){
        blockinstruction1();
      }
      else {
        opener.updateMainMenu(2);
        JavaScript:window.close();
      }
    }

runTrial();


$("#startButton").click(function(){i++; runTrial();});
          });

          </script>
        </head>
        <body>
          <table>
            <tr>
              <td>
                <canvas id="myCanvas" width="900" height="900"> </canvas>
                <div style="text-align:center; align:center;">
                </div>
                <div style="text-align:center;">
                  <button id="startButton">Start</button>
                </div>
                    <input type="hidden" id="assignmentId" name="assignmentId" value="">
                    <input type="hidden" id="workerId" name="workerId" value="">
                    <input type="hidden" id="hitId" name="hitId" value="">
                    <input type="hidden" id="RTs" name="RTs" value="">
                    <input type="hidden" id="ExpName" name="ExpName" value="NEXT">
                    <p style="font-family: Arial; color: black; font-size:24px"></p>
                  </td>
                </tr>
              </table>
            </body>
            </html>
